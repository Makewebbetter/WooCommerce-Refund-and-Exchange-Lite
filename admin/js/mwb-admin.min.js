jQuery(document).ready((function(){console.log("you entered"),jQuery("#wrael-datatable").DataTable({stateSave:!0,dom:'<"mwb-dt-buttons"fB>tr<"bottom"lip>',ordering:!0,buttons:["copyHtml5","excelHtml5","csvHtml5"],language:{lengthMenu:"Rows per page _MENU_",paginate:{next:'<svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="#8E908F"/></svg>',previous:'<svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="#8E908F"/></svg>'}}})})),jQuery(document).ready((function(){$=jQuery;const e=mdc.textField.MDCTextField,a=([].map.call(document.querySelectorAll(".mdc-text-field"),(function(a){return new e(a)})),mdc.ripple.MDCRipple),r=([].map.call(document.querySelectorAll(".mdc-button"),(function(e){return new a(e)})),mdc.switchControl.MDCSwitch);[].map.call(document.querySelectorAll(".mdc-switch"),(function(e){return new r(e)}));$("a[href='admin.php?page=woo_refund_and_exchange_lite_menu']").addClass("submenu-font-size-fix"),$(".mwb-password-hidden").click((function(){"text"==$(".mwb-form__password").attr("type")?$(".mwb-form__password").attr("type","password"):$(".mwb-form__password").attr("type","text")})),$(".mwb_rma_order_statues").select2();var i=[];function _(){let e=[];$.each($(".add_more_rma_policies"),(function(){var a=$(this).children(".mwb_rma_on_functionality").val(),r=$(this).children(".mwb_rma_settings").val(),i=new Object;i.name=a,i.value=r,e.push(i)})),e.forEach((function(e){var a=i.filter((function(a,r){return a.name==e.name}));if(a.length){var r=i.indexOf(a[0]);i[r].value=i[r].value.concat(e.value)}else"string"==typeof e.value&&(e.value=[e.value]),i.push(e)}))}function t(){$.each($(".mwb_rma_settings"),(function(){""==$(this).val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide()):"mwb_rma_maximum_days"==$(this).val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide()):"mwb_rma_order_status"==$(this).val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide()):"mwb_rma_tax_handling"==$(this).val()&&($(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions_label").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_settings_label").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").show())}))}function m(e,a,r){return e.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}_(),t(),$(document).on("change",".mwb_rma_settings, .mwb_rma_on_functionality",(function(){var e=$(this).parent(".add_more_rma_policies").children(".mwb_rma_on_functionality").val(),a=$(this).parent(".add_more_rma_policies").children(".mwb_rma_settings").val(),r=$(this);""!=a&&null!=a&&i.forEach((function(i){e==i.name&&null!=i.value&&-1!=$.inArray(a,i.value)&&(alert("Policy already exist"),r.parent(".add_more_rma_policies").remove())})),""==r.val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide()):"mwb_rma_maximum_days"==r.val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide()):"mwb_rma_order_status"==r.val()?($(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide()):"mwb_rma_tax_handling"==r.val()&&($(this).parent(".add_more_rma_policies").children(".mwb_rma_tax_handling").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_order_statues").next().hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_max_number_days").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions1").hide(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions2").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_conditions_label").show(),$(this).parent(".add_more_rma_policies").children(".mwb_rma_settings_label").show()),i=[],_()})),$(document).on("submit","#save_policies_setting_form",(function(e){$.each($(".mwb_rma_settings"),(function(){""==$(this).val()&&$(this).parent(".add_more_rma_policies").remove()}))})),$(document).on("click","#mwb_rma_add_more",(function(){var e=wrael_admin_param.check_pro_active,a=$(".add_more_rma_policies").last().children(".mwb_rma_get_current_i").val();a=parseInt(a)+1;var r=$("#add_more_rma_policies_clone").html();r=m(r,"mwb_rma_setting[1]","mwb_rma_setting["+a+"]"),r=m(r,"mwb_rma_order_statues1","mwb_rma_order_statues"),e&&(r=show_correct_field_pro(r)),$("#div_add_more_rma_policies").append('<div class="add_more_rma_policies">'+r+'<input type="button" value="X" class="rma_policy_delete"></div>'),$(".add_more_rma_policies").last().children(".mwb_rma_get_current_i").val(a),$(".mwb_rma_order_statues").select2(),e&&mwb_rma_do_something(),t(),_()})),$(document).on("click",".rma_policy_delete",(function(){$(this).parent(".add_more_rma_policies").remove(),t(),_()})),$(".mwb_rma_return_loader").hide(),$(document).on("click","#mwb_rma_accept_return",(function(){$("#mwb_rma_return_package").hide(),$(".mwb_rma_return_loader").show();var e={action:"mwb_rma_return_req_approve",orderid:$(this).data("orderid"),date:$(this).data("date"),security_check:wrael_admin_param.mwb_rma_nonce};$.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){$(".mwb_rma_return_loader").hide(),$(".refund-actions .cancel-action").hide(),window.location.reload()}})})),$(document).on("click","#mwb_rma_cancel_return",(function(){$(".mwb_rma_return_loader").show();var e={action:"mwb_rma_return_req_cancel",orderid:$(this).data("orderid"),date:$(this).data("date"),security_check:wrael_admin_param.mwb_rma_nonce};$.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){$(".mwb_rma_return_loader").hide(),window.location.reload()}})})),$(document).on("click","#mwb_rma_left_amount",(function(){$(this).attr("disabled","disabled");var e=wrael_admin_param.check_pro_active,a=$(this).data("orderid"),r=$(this).data("refund_method"),i=$(".mwb_rma_total_amount_for_refund").val();if(""==r||"manual_method"==r){$("html, body").animate({scrollTop:$("#order_shipping_line_items").offset().top},2e3),$("div.wc-order-refund-items").slideDown(),$("div.wc-order-data-row-toggle").not("div.wc-order-refund-items").slideUp(),$("div.wc-order-totals-items").slideUp(),$("#woocommerce-order-items").find("div.refund").show(),$(".wc-order-edit-line-item .wc-order-edit-line-item-actions").hide();var _=$("#mwb_rma_refund_reason").val();$("#refund_amount").val(i),$("#refund_reason").val(_);var t=accounting.unformat(i,woocommerce_admin.mon_decimal_point);$("button .wc-order-refund-amount .amount").text(accounting.formatMoney(t,{symbol:woocommerce_admin_meta_boxes.currency_format_symbol,decimal:woocommerce_admin_meta_boxes.currency_format_decimal_sep,thousand:woocommerce_admin_meta_boxes.currency_format_thousand_sep,precision:woocommerce_admin_meta_boxes.currency_format_num_decimals,format:woocommerce_admin_meta_boxes.currency_format}))}else{if(e)if("function"==typeof mwb_rma_refund_method_wallet)mwb_rma_refund_method_wallet(a,i)&&window.location.reload()}})),jQuery(document).on("click","#mwb_rma_stock_back",(function(){jQuery(this).attr("disabled","disabled");var e={action:"mwb_rma_manage_stock",order_id:jQuery(this).data("orderid"),type:jQuery(this).data("type"),security_check:wrael_admin_param.mwb_rma_nonce};$.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){jQuery(this).removeAttr("disabled"),e.result?(jQuery("#post").prepend('<div class="updated notice notice-success is-dismissible" id="message"><p>'+e.msg+'</p><button class="notice-dismiss" type="button"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),jQuery("html, body").animate({scrollTop:jQuery("body").offset().top},2e3,"linear",(function(){window.setTimeout((function(){window.location.reload()}),1e3)}))):(jQuery("#post").prepend('<div id="messege" class="notice notice-error is-dismissible" id="message"><p>'+e.msg+'</p><button class="notice-dismiss" type="button"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),jQuery("html, body").animate({scrollTop:jQuery("body").offset().top},2e3,"linear",(function(){})))}})})),$(document).on("click","#mwb_rma_generate_key_setting",(function(e){e.preventDefault();var a={action:"mwb_rma_api_secret_key",security_check:wrael_admin_param.mwb_rma_nonce};$.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:a,dataType:"json",success:function(e){window.location.reload()}})})),$(window).load((function(){$(document).find(".mwb-defaut-multiselect").length>0&&$(document).find(".mwb-defaut-multiselect").select2()}))}));